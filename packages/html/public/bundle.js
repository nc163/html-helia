(()=>{var t={599:(t,e)=>{var s=function(){this.type=null,this._setSubtypeAndSuffix(null),this.parameters={}};s.prototype.isValid=function(){return null!==this.type&&null!==this.subtype&&"example"!==this.subtype},s.prototype._setSubtypeAndSuffix=function(t){if(this.subtype=t,this.subtypeFacets=[],this.suffix=null,t)if(t.indexOf("+")>-1&&"+"!==t.substr(-1)){var e=t.split("+",2);this.subtype=e[0],this.subtypeFacets=e[0].split("."),this.suffix=e[1]}else this.subtypeFacets=t.split(".")},s.prototype.hasSuffix=function(){return!!this.suffix},s.prototype._firstSubtypeFacetEquals=function(t){return this.subtypeFacets.length>0&&this.subtypeFacets[0]===t},s.prototype.isVendor=function(){return this._firstSubtypeFacetEquals("vnd")},s.prototype.isPersonal=function(){return this._firstSubtypeFacetEquals("prs")},s.prototype.isExperimental=function(){return this._firstSubtypeFacetEquals("x")||"x-"===this.subtype.substring(0,2).toLowerCase()},s.prototype.asString=function(){var t="";if(this.isValid()){t=t+this.type+"/"+this.subtype,this.hasSuffix()&&(t=t+"+"+this.suffix);var e=Object.keys(this.parameters);if(e.length>0){var s=[],a=this;e.sort((function(t,e){return t.localeCompare(e)})).forEach((function(t){s.push(t+"="+r(a.parameters[t]))})),t=t+";"+s.join(";")}}return t};var r=function(t){return t.indexOf(";")>-1?'"'+t+'"':t},a=/^(application|audio|font|image|message|model|multipart|text|video|\*)\/([a-zA-Z0-9!#$%^&\*_\-\+{}\|'.`~]{1,127})(;.*)?$/,i=/;(?=(?:[^\"]*\"[^\"]*\")*(?![^\"]*\"))/;e.fromString=function(t){var e=new s;if(t){var r=t.match(a);!r||"*"===r[1]&&"*"!==r[2]||(e.type=r[1],e._setSubtypeAndSuffix(r[2]),r[3]&&r[3].substr(1).split(i).forEach((function(t){var s=t.split("=",2);2===s.length&&(e.parameters[s[0].toLowerCase().trim()]=function(t){return'"'===t.substr(0,1)&&'"'===t.substr(-1)?t.substr(1,t.length-2):t}(s[1].trim()))})))}return e}}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,s),i.exports}(()=>{"use strict";var t=s(599);const e=async function(e,s,r){const a=new FileReader;switch(s.mediatype.type.toLowerCase()){case"text":!async function(e,s,r,a){const i=t.fromString(e.dataset.mediatype);e.dataset?.encord,a.onload=t=>{if("string"!=typeof t.target?.result)return!1;switch(i.subtype){case"plain":e.innerText=t.target.result.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");break;case"html":case"css":case"javascript":return!1}},a.readAsText(r,s.encord)}(e,s,r,a);break;case"image":!async function(t,e,s,r){if(t.tagName,null==t)return!1;r.addEventListener("load",(e=>{if("string"!=typeof e.target?.result)return!1;t==t&&(t.src=e.target.result)})),r.readAsDataURL(s)}(e,0,r,a);break;case"audio":!async function(t,e,s,r){const a=t.tagName;r.addEventListener("load",(e=>{if("string"!=typeof e.target?.result)return!1;"AUDIO"===a&&(t.src=e.target.result)})),r.readAsDataURL(s)}(e,0,r,a);break;case"video":!async function(t,e,s,r){const a=t.tagName;r.addEventListener("load",(e=>{if("string"!=typeof e.target?.result)return!1;"VIDEO"===a&&(t.src=e.target.result)})),r.readAsDataURL(s)}(e,0,r,a);break;default:return!1}},r=async(s,r)=>{if("string"!==r.dataset.cid)return!1;let a=function(t,e,s,r){return{cid:t,mediatype:{type:e.toLowerCase(),subtype:s.toLowerCase()},encord:r||void 0}}(r.dataset.cid,t.fromString(r.dataset.mediatype).type.toLowerCase(),t.fromString(r.dataset.mediatype).subtype.toLowerCase(),r.dataset.encord);if(!a)return!1;let i=await async function(t,e){const s=[];for await(const r of t.cat(e.cid))s.push(r);return new Blob(s,{type:e.mediatype.type})}(s,a);e(r,a,i)};window.addEventListener("load",(()=>{console.log("Window loaded"),console.log(r)}))})()})();
//# sourceMappingURL=bundle.js.map